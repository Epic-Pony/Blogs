{"remainingRequest":"/Users/zhangzhen/project/personal/personalProject/blogpony/node_modules/babel-loader/lib/index.js!/Users/zhangzhen/project/personal/personalProject/blogpony/src/utils/background.js","dependencies":[{"path":"/Users/zhangzhen/project/personal/personalProject/blogpony/src/utils/background.js","mtime":1597564624970},{"path":"/Users/zhangzhen/project/personal/personalProject/blogpony/node_modules/cache-loader/dist/cjs.js","mtime":1576043225527},{"path":"/Users/zhangzhen/project/personal/personalProject/blogpony/node_modules/babel-loader/lib/index.js","mtime":1585377145645}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CgovKgogKiBARGVzY3JpcHRpb246IEl0IHdhcyB3cml0dGVuIGJ5IFBvbnkKICogQFZlcnNpb246IDIuMAogKiBAQXV0b3I6IFBvbnkKICogQERhdGU6IDIwMjAtMDgtMTYgMTU6NDQ6MjIKICogQExhc3RFZGl0b3JzOiBQb255CiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDgtMTYgMTU6NTc6MDQKICovCnZhciBjYXZlbnNCZyA9IGZ1bmN0aW9uIGNhdmVuc0JnKCkgewogIHZhciB3aWR0aCwKICAgICAgaGVpZ2h0LAogICAgICBsYXJnZUhlYWRlciwKICAgICAgY2FudmFzLAogICAgICBjdHgsCiAgICAgIGNpcmNsZXMsCiAgICAgIHRhcmdldCwKICAgICAgYW5pbWF0ZUhlYWRlciA9IHRydWU7IC8vIE1haW4KCiAgaW5pdEhlYWRlcigpOwogIGFkZExpc3RlbmVycygpOwoKICBmdW5jdGlvbiBpbml0SGVhZGVyKCkgewogICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIHRhcmdldCA9IHsKICAgICAgeDogMCwKICAgICAgeTogaGVpZ2h0CiAgICB9OwogICAgbGFyZ2VIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFyZ2UtaGVhZGVyJyk7CiAgICBjb25zb2xlLmxvZyhsYXJnZUhlYWRlcik7CiAgICBsYXJnZUhlYWRlci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnOwogICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbW8tY2FudmFzJyk7CiAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gY3JlYXRlIHBhcnRpY2xlcwoKICAgIGNpcmNsZXMgPSBbXTsKCiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHdpZHRoICogMC41OyB4KyspIHsKICAgICAgdmFyIGMgPSBuZXcgQ2lyY2xlKCk7CiAgICAgIGNpcmNsZXMucHVzaChjKTsKICAgIH0KCiAgICBhbmltYXRlKCk7CiAgfSAvLyBFdmVudCBoYW5kbGluZwoKCiAgZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbENoZWNrKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemUpOwogIH0KCiAgZnVuY3Rpb24gc2Nyb2xsQ2hlY2soKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPiBoZWlnaHQpIGFuaW1hdGVIZWFkZXIgPSBmYWxzZTtlbHNlIGFuaW1hdGVIZWFkZXIgPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gcmVzaXplKCkgewogICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIGxhcmdlSGVhZGVyLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7CiAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgfQoKICBmdW5jdGlvbiBhbmltYXRlKCkgewogICAgaWYgKGFuaW1hdGVIZWFkZXIpIHsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKCiAgICAgIGZvciAodmFyIGkgaW4gY2lyY2xlcykgewogICAgICAgIGNpcmNsZXNbaV0uZHJhdygpOwogICAgICB9CiAgICB9CgogICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwogIH0gLy8gQ2FudmFzIG1hbmlwdWxhdGlvbgoKCiAgZnVuY3Rpb24gQ2lyY2xlKCkgewogICAgdmFyIF90aGlzID0gdGhpczsgLy8gY29uc3RydWN0b3IKCgogICAgKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucG9zID0ge307CiAgICAgIGluaXQoKTsKICAgICAgY29uc29sZS5sb2coX3RoaXMpOwogICAgfSkoKTsKCiAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICBfdGhpcy5wb3MueCA9IE1hdGgucmFuZG9tKCkgKiB3aWR0aDsKICAgICAgX3RoaXMucG9zLnkgPSBoZWlnaHQgKyBNYXRoLnJhbmRvbSgpICogMTAwOwogICAgICBfdGhpcy5hbHBoYSA9IDAuMSArIE1hdGgucmFuZG9tKCkgKiAwLjM7CiAgICAgIF90aGlzLnNjYWxlID0gMC4xICsgTWF0aC5yYW5kb20oKSAqIDAuMzsKICAgICAgX3RoaXMudmVsb2NpdHkgPSBNYXRoLnJhbmRvbSgpOwogICAgfQoKICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF90aGlzLmFscGhhIDw9IDApIHsKICAgICAgICBpbml0KCk7CiAgICAgIH0KCiAgICAgIF90aGlzLnBvcy55IC09IF90aGlzLnZlbG9jaXR5OwogICAgICBfdGhpcy5hbHBoYSAtPSAwLjAwMDU7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4LmFyYyhfdGhpcy5wb3MueCwgX3RoaXMucG9zLnksIF90aGlzLnNjYWxlICogMTAsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwnICsgX3RoaXMuYWxwaGEgKyAnKSc7CiAgICAgIGN0eC5maWxsKCk7CiAgICB9OwogIH0KfTsKCmV4cG9ydCBkZWZhdWx0IGNhdmVuc0JnOw=="},{"version":3,"sources":["/Users/zhangzhen/project/personal/personalProject/blogpony/src/utils/background.js"],"names":["cavensBg","width","height","largeHeader","canvas","ctx","circles","target","animateHeader","initHeader","addListeners","window","innerWidth","innerHeight","x","y","document","getElementById","console","log","style","getContext","c","Circle","push","animate","addEventListener","scrollCheck","resize","body","scrollTop","clearRect","i","draw","requestAnimationFrame","_this","pos","init","Math","random","alpha","scale","velocity","beginPath","arc","PI","fillStyle","fill"],"mappings":"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","sourcesContent":["/*\n * @Description: It was written by Pony\n * @Version: 2.0\n * @Autor: Pony\n * @Date: 2020-08-16 15:44:22\n * @LastEditors: Pony\n * @LastEditTime: 2020-08-16 15:57:04\n */\nconst cavensBg = () => {\n\n    var width, height, largeHeader, canvas, ctx, circles, target, animateHeader = true;\n\n    // Main\n    initHeader();\n    addListeners();\n\n    function initHeader() {\n        width = window.innerWidth;\n        height = window.innerHeight;\n        target = {x: 0, y: height};\n\n        largeHeader = document.getElementById('large-header');\n        console.log(largeHeader)\n        largeHeader.style.height = height+'px';\n\n        canvas = document.getElementById('demo-canvas');\n        canvas.width = width;\n        canvas.height = height;\n        ctx = canvas.getContext('2d');\n\n        // create particles\n        circles = [];\n        for(var x = 0; x < width*0.5; x++) {\n            var c = new Circle();\n            circles.push(c);\n        }\n        animate();\n    }\n\n    // Event handling\n    function addListeners() {\n        window.addEventListener('scroll', scrollCheck);\n        window.addEventListener('resize', resize);\n    }\n\n    function scrollCheck() {\n        if(document.body.scrollTop > height) animateHeader = false;\n        else animateHeader = true;\n    }\n\n    function resize() {\n        width = window.innerWidth;\n        height = window.innerHeight;\n        largeHeader.style.height = height+'px';\n        canvas.width = width;\n        canvas.height = height;\n    }\n\n    function animate() {\n        if(animateHeader) {\n            ctx.clearRect(0,0,width,height);\n            for(var i in circles) {\n                circles[i].draw();\n            }\n        }\n        requestAnimationFrame(animate);\n    }\n\n    // Canvas manipulation\n    function Circle() {\n        var _this = this;\n\n        // constructor\n        (function() {\n            _this.pos = {};\n            init();\n            console.log(_this);\n        })();\n\n        function init() {\n            _this.pos.x = Math.random()*width;\n            _this.pos.y = height+Math.random()*100;\n            _this.alpha = 0.1+Math.random()*0.3;\n            _this.scale = 0.1+Math.random()*0.3;\n            _this.velocity = Math.random();\n        }\n\n        this.draw = function() {\n            if(_this.alpha <= 0) {\n                init();\n            }\n            _this.pos.y -= _this.velocity;\n            _this.alpha -= 0.0005;\n            ctx.beginPath();\n            ctx.arc(_this.pos.x, _this.pos.y, _this.scale*10, 0, 2 * Math.PI, false);\n            ctx.fillStyle = 'rgba(255,255,255,'+ _this.alpha+')';\n            ctx.fill();\n        };\n    }\n\n}\n\nexport default cavensBg"]}]}